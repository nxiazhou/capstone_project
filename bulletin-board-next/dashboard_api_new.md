# ğŸ“„ User Management æ¨¡å—æ¥å£æ–‡æ¡£ï¼ˆæ­£å¼ç‰ˆï¼‰
---

## å…¬å…±ä¿¡æ¯
+ **æ¥å£å‰ç¼€**ï¼š`/api/users`
+ **æ•°æ®æ ¼å¼**ï¼šè¯·æ±‚ï¼ˆRequestï¼‰å’Œå“åº”ï¼ˆResponseï¼‰éƒ½ä½¿ç”¨ `application/json`
+ **è®¤è¯æ–¹å¼**ï¼šéœ€è¦æºå¸¦è®¤è¯ Tokenï¼ˆJWT æˆ– Session Cookieï¼Œæ ¹æ®ä½ ä»¬é¡¹ç›®è®¾ç½®ï¼‰
+ **æƒé™æ§åˆ¶**ï¼šä»…ç®¡ç†å‘˜è§’è‰²ï¼ˆAdminï¼‰å¯ä»¥è®¿é—®

---

## 1. è·å–ç”¨æˆ·åˆ—è¡¨
### æ¥å£
```plain
http


å¤åˆ¶ç¼–è¾‘
GET /api/users
```

### æè¿°
æŸ¥è¯¢ç”¨æˆ·åˆ—è¡¨ï¼Œæ”¯æŒåˆ†é¡µã€å…³é”®è¯æœç´¢å’ŒæŒ‰è§’è‰²ç­›é€‰ã€‚

### è¯·æ±‚å‚æ•°ï¼ˆQueryï¼‰
| å‚æ•° | ç±»å‹ | æ˜¯å¦å¿…å¡« | è¯´æ˜ |
| --- | --- | --- | --- |
| `page` | int | å¦ | é¡µç ï¼Œé»˜è®¤ 1 |
| `limit` | int | å¦ | æ¯é¡µæ•°é‡ï¼Œé»˜è®¤ 10 |
| `search` | string | å¦ | æŒ‰ç”¨æˆ·åæˆ–é‚®ç®±æ¨¡ç³Šæœç´¢ |
| `role` | string | å¦ | æŒ‰è§’è‰²ç­›é€‰ï¼ˆå¯é€‰ï¼š`Admin`<br/>ã€`User`<br/>ï¼‰ |


### å“åº”ç¤ºä¾‹
```plain
json


å¤åˆ¶ç¼–è¾‘
{
  "users": [
    {
      "id": "1",
      "username": "john_doe",
      "email": "john@example.com",
      "role": "Admin",
      "status": "Enabled",
      "createdAt": "2025-04-26T08:30:00Z"
    }
  ],
  "pagination": {
    "total": 25,
    "page": 1,
    "limit": 10
  }
}
```

---

## 2. è·å–ç”¨æˆ·è¯¦æƒ…
### æ¥å£
```plain
http


å¤åˆ¶ç¼–è¾‘
GET /api/users/{id}
```

### æè¿°
æ ¹æ®ç”¨æˆ·IDæŸ¥è¯¢å•ä¸ªç”¨æˆ·çš„è¯¦ç»†ä¿¡æ¯ã€‚

### è·¯å¾„å‚æ•°
| å‚æ•° | ç±»å‹ | æ˜¯å¦å¿…å¡« | è¯´æ˜ |
| --- | --- | --- | --- |
| `id` | string | æ˜¯ | ç”¨æˆ·ID |


### å“åº”ç¤ºä¾‹
```plain
json


å¤åˆ¶ç¼–è¾‘
{
  "id": "1",
  "username": "john_doe",
  "email": "john@example.com",
  "role": "Admin",
  "status": "Enabled",
  "createdAt": "2025-04-26T08:30:00Z"
}
```

---

## 3. åˆ›å»ºæ–°ç”¨æˆ·
### æ¥å£
```plain
http


å¤åˆ¶ç¼–è¾‘
POST /api/users
```

### æè¿°
æ–°å¢ä¸€ä¸ªç”¨æˆ·è´¦å·ã€‚

### è¯·æ±‚ä½“ï¼ˆBodyï¼‰
| å­—æ®µ | ç±»å‹ | æ˜¯å¦å¿…å¡« | è¯´æ˜ |
| --- | --- | --- | --- |
| `username` | string | æ˜¯ | ç”¨æˆ·å |
| `email` | string | æ˜¯ | é‚®ç®± |
| `password` | string | æ˜¯ | å¯†ç ï¼ˆå‰ç«¯åŠ å¯†æˆ–åç«¯åŠ å¯†ï¼‰ |
| `role` | string | æ˜¯ | è§’è‰²ï¼ˆ`Admin`<br/>æˆ–`User`<br/>ï¼‰ |


### è¯·æ±‚ç¤ºä¾‹
```plain
json


å¤åˆ¶ç¼–è¾‘
{
  "username": "new_user",
  "email": "newuser@example.com",
  "password": "password123",
  "role": "User"
}
```

### å“åº”ç¤ºä¾‹
```plain
json


å¤åˆ¶ç¼–è¾‘
{
  "message": "User created successfully",
  "userId": "2"
}
```

---

## 4. æ›´æ–°ç”¨æˆ·ä¿¡æ¯
### æ¥å£
```plain
http


å¤åˆ¶ç¼–è¾‘
PUT /api/users/{id}
```

### æè¿°
æ›´æ–°æŒ‡å®šç”¨æˆ·çš„åŸºæœ¬ä¿¡æ¯ã€‚

### è·¯å¾„å‚æ•°
| å‚æ•° | ç±»å‹ | æ˜¯å¦å¿…å¡« | è¯´æ˜ |
| --- | --- | --- | --- |
| `id` | string | æ˜¯ | ç”¨æˆ·ID |


### è¯·æ±‚ä½“ï¼ˆBodyï¼‰
| å­—æ®µ | ç±»å‹ | æ˜¯å¦å¿…å¡« | è¯´æ˜ |
| --- | --- | --- | --- |
| `username` | string | å¦ | ç”¨æˆ·å |
| `email` | string | å¦ | é‚®ç®± |
| `role` | string | å¦ | è§’è‰² |


### è¯·æ±‚ç¤ºä¾‹
```plain
json


å¤åˆ¶ç¼–è¾‘
{
  "username": "updated_name",
  "email": "updated@example.com",
  "role": "Admin"
}
```

### å“åº”ç¤ºä¾‹
```plain
json


å¤åˆ¶ç¼–è¾‘
{
  "message": "User updated successfully"
}
```

---

## 5. ä¿®æ”¹ç”¨æˆ·çŠ¶æ€ï¼ˆå¯ç”¨/ç¦ç”¨ï¼‰
### æ¥å£
```plain
http


å¤åˆ¶ç¼–è¾‘
PATCH /api/users/{id}/status
```

### æè¿°
åˆ‡æ¢ç”¨æˆ·å¯ç”¨/ç¦ç”¨çŠ¶æ€ã€‚

### è¯·æ±‚ä½“ï¼ˆBodyï¼‰
| å­—æ®µ | ç±»å‹ | æ˜¯å¦å¿…å¡« | è¯´æ˜ |
| --- | --- | --- | --- |
| `status` | string | æ˜¯ | å–å€¼ï¼š`Enabled`<br/> æˆ– `Disabled` |


### è¯·æ±‚ç¤ºä¾‹
```plain
json


å¤åˆ¶ç¼–è¾‘
{
  "status": "Disabled"
}
```

### å“åº”ç¤ºä¾‹
```plain
json


å¤åˆ¶ç¼–è¾‘
{
  "message": "User status updated successfully"
}
```

---

## 6. åˆ é™¤ç”¨æˆ·
### æ¥å£
```plain
http


å¤åˆ¶ç¼–è¾‘
DELETE /api/users/{id}
```

### æè¿°
æ ¹æ®ç”¨æˆ·IDåˆ é™¤æŒ‡å®šç”¨æˆ·ã€‚

### è·¯å¾„å‚æ•°
| å‚æ•° | ç±»å‹ | æ˜¯å¦å¿…å¡« | è¯´æ˜ |
| --- | --- | --- | --- |
| `id` | string | æ˜¯ | ç”¨æˆ·ID |


### å“åº”ç¤ºä¾‹
```plain
json


å¤åˆ¶ç¼–è¾‘
{
  "message": "User deleted successfully"
}
```

---

# ğŸ›¢ï¸ User æ•°æ®åº“è¡¨è®¾è®¡ï¼ˆUser Tableï¼‰
è¡¨åï¼š`users`

| å­—æ®µå | ç±»å‹ | çº¦æŸ | æè¿° |
| --- | --- | --- | --- |
| `id` | BIGINT / UUID | ä¸»é”®ï¼Œè‡ªå¢ / UUID | ç”¨æˆ·å”¯ä¸€ID |
| `username` | VARCHAR(50) | å”¯ä¸€ï¼Œä¸ä¸ºç©º | ç”¨æˆ·å |
| `email` | VARCHAR(100) | å”¯ä¸€ï¼Œä¸ä¸ºç©º | é‚®ç®±åœ°å€ |
| `password` | VARCHAR(255) | ä¸ä¸ºç©º | åŠ å¯†åçš„å¯†ç  |
| `role` | ENUM('Admin', 'User') | é»˜è®¤ 'User' | è§’è‰² |
| `status` | ENUM('Enabled', 'Disabled') | é»˜è®¤ 'Enabled' | å¯ç”¨çŠ¶æ€ |
| `created_at` | DATETIME | é»˜è®¤å½“å‰æ—¶é—´ | åˆ›å»ºæ—¶é—´ |
| `updated_at` | DATETIME | è‡ªåŠ¨æ›´æ–° | æœ€åæ›´æ–°æ—¶é—´ |


---

**å­—æ®µè¯´æ˜è¡¥å……ï¼š**

+ `id`ï¼šå¯ä»¥ç”¨æ•´æ•°è‡ªå¢ï¼Œä¹Ÿå¯ä»¥ç”¨UUIDã€‚
+ `username` å’Œ `email` éœ€è¦åŠ **å”¯ä¸€ç´¢å¼•ï¼ˆUnique Indexï¼‰**ã€‚
+ `password`ï¼šå­˜å‚¨å“ˆå¸ŒåŠ å¯†è¿‡çš„å¯†ç ï¼ˆæ¯”å¦‚ bcrypt åŠ å¯†ï¼‰ã€‚
+ `role`ï¼šå†³å®šæ˜¯å¦èƒ½è®¿é—®ç®¡ç†åŠŸèƒ½ã€‚
+ `status`ï¼šæ–¹ä¾¿ç¦ç”¨ç”¨æˆ·è€Œä¸ç›´æ¥åˆ é™¤ã€‚
+ `created_at` å’Œ `updated_at`ï¼šæ–¹ä¾¿åšæ—¥å¿—è¿½è¸ªã€æ’åºç­‰ã€‚

---

# å°æ€»ç»“ âœ…
è¿™æ ·ä¸€å¥—æ¥å£ + è¡¨è®¾è®¡ï¼Œ  
å¯ä»¥æ»¡è¶³ä½ ä»¬"æ ¡å›­å‘Šç¤ºæ¿"åå°ç³»ç»Ÿçš„ **ç”¨æˆ·ç®¡ç†éœ€æ±‚**ï¼Œè€Œä¸”ç»“æ„éå¸¸æ ‡å‡†åŒ–ï¼Œå°†æ¥è¦å¯¹æ¥ Next.js å‰ç«¯æˆ–è€…åç«¯å†™æƒé™æ§åˆ¶éƒ½å¾ˆæ–¹ä¾¿ã€‚



# ğŸ“„ Schedule Management æ¨¡å—æ¥å£æ–‡æ¡£ï¼ˆæ­£å¼ç‰ˆï¼‰
---

## å…¬å…±ä¿¡æ¯
+ **æ¥å£å‰ç¼€**ï¼š`/api/schedules`
+ **æ•°æ®æ ¼å¼**ï¼šè¯·æ±‚ï¼ˆRequestï¼‰å’Œå“åº”ï¼ˆResponseï¼‰éƒ½ä½¿ç”¨ `application/json`
+ **è®¤è¯æ–¹å¼**ï¼šéœ€è¦æºå¸¦è®¤è¯ Token
+ **æƒé™æ§åˆ¶**ï¼šä»…ç®¡ç†å‘˜è§’è‰²ï¼ˆAdminï¼‰å¯ä»¥è®¿é—®

---

## 1. è·å–æ’­æ”¾è®¡åˆ’åˆ—è¡¨
### æ¥å£
```plain
http


å¤åˆ¶ç¼–è¾‘
GET /api/schedules
```

### æè¿°
æŸ¥è¯¢æ‰€æœ‰æ’­æ”¾è®¡åˆ’ï¼Œæ”¯æŒåˆ†é¡µã€å…³é”®è¯æœç´¢ï¼ˆæŒ‰åç§°/æ–‡ä»¶åï¼‰å’Œæ—¥æœŸç­›é€‰ã€‚

### è¯·æ±‚å‚æ•°ï¼ˆQueryï¼‰
| å‚æ•° | ç±»å‹ | æ˜¯å¦å¿…å¡« | è¯´æ˜ |
| --- | --- | --- | --- |
| `page` | int | å¦ | é¡µç ï¼Œé»˜è®¤ 1 |
| `limit` | int | å¦ | æ¯é¡µæ•°é‡ï¼Œé»˜è®¤ 10 |
| `search` | string | å¦ | æœç´¢å…³é”®è¯ï¼ˆæŒ‰åç§°æˆ–æ–‡ä»¶åæ¨¡ç³Šæœç´¢ï¼‰ |
| `startDate` | string (ISO Date) | å¦ | ç­›é€‰èµ·å§‹æ—¥æœŸ |
| `endDate` | string (ISO Date) | å¦ | ç­›é€‰ç»“æŸæ—¥æœŸ |


---

### å“åº”ç¤ºä¾‹
```plain
json


å¤åˆ¶ç¼–è¾‘
{
  "schedules": [
    {
      "id": "101",
      "name": "Morning Promotion",
      "mediaType": "video",
      "fileUrl": "https://example.com/videos/promo.mp4",
      "startTime": "2025-04-28T08:00:00Z",
      "endTime": "2025-04-28T10:00:00Z",
      "status": "Scheduled",
      "createdAt": "2025-04-26T10:00:00Z"
    }
  ],
  "pagination": {
    "total": 30,
    "page": 1,
    "limit": 10
  }
}
```

---

## 2. è·å–å•ä¸ªæ’­æ”¾è®¡åˆ’è¯¦æƒ…
### æ¥å£
```plain
http


å¤åˆ¶ç¼–è¾‘
GET /api/schedules/{id}
```

### æè¿°
æ ¹æ®æ’­æ”¾è®¡åˆ’IDæŸ¥è¯¢è¯¦ç»†ä¿¡æ¯ã€‚

### è·¯å¾„å‚æ•°
| å‚æ•° | ç±»å‹ | æ˜¯å¦å¿…å¡« | è¯´æ˜ |
| --- | --- | --- | --- |
| `id` | string | æ˜¯ | æ’­æ”¾è®¡åˆ’ID |


---

### å“åº”ç¤ºä¾‹
```plain
json


å¤åˆ¶ç¼–è¾‘
{
  "id": "101",
  "name": "Morning Promotion",
  "mediaType": "video",
  "fileUrl": "https://example.com/videos/promo.mp4",
  "startTime": "2025-04-28T08:00:00Z",
  "endTime": "2025-04-28T10:00:00Z",
  "status": "Scheduled",
  "createdAt": "2025-04-26T10:00:00Z"
}
```

---

## 3. åˆ›å»ºæ–°çš„æ’­æ”¾è®¡åˆ’
### æ¥å£
```plain
http


å¤åˆ¶ç¼–è¾‘
POST /api/schedules
```

### æè¿°
æ–°å¢ä¸€ä¸ªæ’­æ”¾æ’æœŸï¼Œæ¯”å¦‚å®‰æ’æŸä¸ªè§†é¢‘/å›¾ç‰‡åœ¨æŸä¸ªæ—¶é—´æ®µæ’­æ”¾ã€‚

### è¯·æ±‚ä½“ï¼ˆBodyï¼‰
| å­—æ®µ | ç±»å‹ | æ˜¯å¦å¿…å¡« | è¯´æ˜ |
| --- | --- | --- | --- |
| `name` | string | æ˜¯ | æ’­æ”¾è®¡åˆ’åç§° |
| `mediaType` | string | æ˜¯ | åª’ä½“ç±»å‹ï¼ˆå¯é€‰å€¼ï¼š`video`<br/>ã€`image`<br/>ï¼‰ |
| `fileUrl` | string | æ˜¯ | åª’ä½“æ–‡ä»¶åœ°å€ï¼ˆURLï¼‰ |
| `startTime` | string (ISO DateTime) | æ˜¯ | å¼€å§‹æ’­æ”¾æ—¶é—´ |
| `endTime` | string (ISO DateTime) | æ˜¯ | ç»“æŸæ’­æ”¾æ—¶é—´ |


---

### è¯·æ±‚ç¤ºä¾‹
```plain
json


å¤åˆ¶ç¼–è¾‘
{
  "name": "Lunch Break Video",
  "mediaType": "video",
  "fileUrl": "https://example.com/videos/lunch.mp4",
  "startTime": "2025-04-28T12:00:00Z",
  "endTime": "2025-04-28T13:00:00Z"
}
```

---

### å“åº”ç¤ºä¾‹
```plain
json


å¤åˆ¶ç¼–è¾‘
{
  "message": "Schedule created successfully",
  "scheduleId": "102"
}
```

---

## 4. æ›´æ–°æ’­æ”¾è®¡åˆ’
### æ¥å£
```plain
http


å¤åˆ¶ç¼–è¾‘
PUT /api/schedules/{id}
```

### æè¿°
æ›´æ–°æŒ‡å®šæ’­æ”¾è®¡åˆ’çš„ä¿¡æ¯ï¼Œæ¯”å¦‚ä¿®æ”¹æ—¶é—´æˆ–æ¢ä¸€ä¸ªæ–°çš„åª’ä½“ã€‚

### è·¯å¾„å‚æ•°
| å‚æ•° | ç±»å‹ | æ˜¯å¦å¿…å¡« | è¯´æ˜ |
| --- | --- | --- | --- |
| `id` | string | æ˜¯ | æ’­æ”¾è®¡åˆ’ID |


---

### è¯·æ±‚ä½“ï¼ˆBodyï¼‰
| å­—æ®µ | ç±»å‹ | æ˜¯å¦å¿…å¡« | è¯´æ˜ |
| --- | --- | --- | --- |
| `name` | string | å¦ | æ’­æ”¾è®¡åˆ’åç§° |
| `mediaType` | string | å¦ | åª’ä½“ç±»å‹ï¼ˆ`video`<br/> æˆ– `image`<br/>ï¼‰ |
| `fileUrl` | string | å¦ | åª’ä½“æ–‡ä»¶åœ°å€ |
| `startTime` | string (ISO DateTime) | å¦ | å¼€å§‹æ—¶é—´ |
| `endTime` | string (ISO DateTime) | å¦ | ç»“æŸæ—¶é—´ |
| `status` | string | å¦ | çŠ¶æ€ï¼ˆ`Scheduled`<br/> / `Paused`<br/> / `Completed`<br/>ï¼‰ |


---

### è¯·æ±‚ç¤ºä¾‹
```plain
json


å¤åˆ¶ç¼–è¾‘
{
  "name": "Updated Lunch Video",
  "startTime": "2025-04-28T12:30:00Z",
  "endTime": "2025-04-28T13:30:00Z"
}
```

---

### å“åº”ç¤ºä¾‹
```plain
json


å¤åˆ¶ç¼–è¾‘
{
  "message": "Schedule updated successfully"
}
```

---

## 5. åˆ é™¤æ’­æ”¾è®¡åˆ’
### æ¥å£
```plain
http


å¤åˆ¶ç¼–è¾‘
DELETE /api/schedules/{id}
```

### æè¿°
åˆ é™¤ä¸€ä¸ªæ’­æ”¾å®‰æ’ã€‚

### è·¯å¾„å‚æ•°
| å‚æ•° | ç±»å‹ | æ˜¯å¦å¿…å¡« | è¯´æ˜ |
| --- | --- | --- | --- |
| `id` | string | æ˜¯ | æ’­æ”¾è®¡åˆ’ID |


---

### å“åº”ç¤ºä¾‹
```plain
json


å¤åˆ¶ç¼–è¾‘
{
  "message": "Schedule deleted successfully"
}
```

---

# ğŸ›¢ï¸ Schedule æ•°æ®åº“è¡¨è®¾è®¡ï¼ˆSchedule Tableï¼‰
è¡¨åï¼š`schedules`

| å­—æ®µå | ç±»å‹ | çº¦æŸ | æè¿° |
| --- | --- | --- | --- |
| `id` | BIGINT / UUID | ä¸»é”®ï¼Œè‡ªå¢ / UUID | æ’­æ”¾è®¡åˆ’å”¯ä¸€ID |
| `name` | VARCHAR(100) | ä¸ä¸ºç©º | æ’­æ”¾è®¡åˆ’åç§° |
| `mediaType` | ENUM('video', 'image') | ä¸ä¸ºç©º | åª’ä½“ç±»å‹ |
| `fileUrl` | VARCHAR(255) | ä¸ä¸ºç©º | åª’ä½“æ–‡ä»¶åœ°å€ï¼ˆURLï¼‰ |
| `startTime` | DATETIME | ä¸ä¸ºç©º | æ’­æ”¾å¼€å§‹æ—¶é—´ |
| `endTime` | DATETIME | ä¸ä¸ºç©º | æ’­æ”¾ç»“æŸæ—¶é—´ |
| `status` | ENUM('Scheduled', 'Paused', 'Completed') | é»˜è®¤ 'Scheduled' | å½“å‰æ’æœŸçŠ¶æ€ |
| `created_at` | DATETIME | é»˜è®¤å½“å‰æ—¶é—´ | åˆ›å»ºæ—¶é—´ |
| `updated_at` | DATETIME | è‡ªåŠ¨æ›´æ–°æ—¶é—´ | æœ€åæ›´æ–°æ—¶é—´ |


---

# ğŸ“Œ å°ç»“
è¿™æ ·ä½ çš„ **Schedule Management** APIå’Œæ•°æ®åº“å­—æ®µå°±éå¸¸å®Œæ•´äº†âœ…ï¼Œè€Œä¸”ï¼š

+ æ¯æ¡æ’­æ”¾è®¡åˆ’éƒ½èƒ½æŒ‡å®šï¼š**æ’­æ”¾ä»€ä¹ˆ**ã€**ä»ä»€ä¹ˆæ—¶å€™åˆ°ä»€ä¹ˆæ—¶å€™**ã€‚
+ æ”¯æŒä¸åŒç±»å‹çš„åª’ä½“ï¼š**è§†é¢‘**ã€**å›¾ç‰‡**ã€‚
+ å¯ä»¥éšæ—¶æ›´æ–°ã€åˆ é™¤æ’­æ”¾æ’æœŸã€‚
+ å‰ç«¯å¯ä»¥ç›´æ¥ç”¨åˆ†é¡µ + æœç´¢æ¥å£æ¥åŠ è½½å®‰æ’è¡¨æ ¼ã€‚

# ğŸ“„ `/api/schedules?current=true` æ¥å£æ–‡æ¡£ï¼ˆä¸“é—¨ç»™ Home é¡µä½¿ç”¨ï¼‰
---

## æ¥å£
```plain
http


å¤åˆ¶ç¼–è¾‘
GET /api/schedules?current=true
```

## æè¿°
æŸ¥è¯¢**å½“å‰æ—¶åˆ»**åº”è¯¥æ’­æ”¾çš„å†…å®¹ï¼Œè¿”å›æ­£åœ¨æ’­æ”¾çš„åª’ä½“ï¼ˆè§†é¢‘æˆ–å›¾ç‰‡ï¼‰ã€‚

å¯ä»¥å¢åŠ çµæ´»çš„å®¹é”™æ—¶é—´ï¼Œæ¯”å¦‚æå‰/å»¶è¿Ÿå‡ åˆ†é’Ÿï¼Œé˜²æ­¢å› è®¾å¤‡æ—¶é—´è¯¯å·®å¯¼è‡´æ¼æ’­æ”¾ã€‚

---

## è¯·æ±‚å‚æ•°ï¼ˆQueryï¼‰
| å‚æ•° | ç±»å‹ | æ˜¯å¦å¿…å¡« | é»˜è®¤å€¼ | è¯´æ˜ |
| --- | --- | --- | --- | --- |
| `current` | boolean | æ˜¯ | - | å›ºå®šä¼  `true`<br/>ï¼Œå¯ç”¨å½“å‰æ’­æ”¾è¿‡æ»¤ |
| `offsetBefore` | int | å¦ | `0` | å¼€å§‹æ—¶é—´**æå‰**å¤šå°‘åˆ†é’Ÿï¼ˆé˜²æ­¢æ’­æ”¾è®¾å¤‡æ…¢ï¼‰ |
| `offsetAfter` | int | å¦ | `0` | ç»“æŸæ—¶é—´**å»¶å**å¤šå°‘åˆ†é’Ÿï¼ˆé˜²æ­¢æ’­æ”¾è®¾å¤‡å¿«ï¼‰ |


---

## é€»è¾‘è¯´æ˜
+ å½“å‰æ—¶é—´ï¼šè®¾å¤‡ç«¯ `new Date()`
+ è¿”å›æ¡ä»¶ï¼š

```plain
å¤åˆ¶ç¼–è¾‘
(startTime - offsetBeforeåˆ†é’Ÿ) <= å½“å‰æ—¶é—´ <= (endTime + offsetAfteråˆ†é’Ÿ)
```

+ æ¯”å¦‚ï¼š
    - `offsetBefore = 5`ï¼Œ`offsetAfter = 5`
    - é‚£ä¹ˆï¼šè®¾å¤‡ä¼šæå‰5åˆ†é’Ÿå¼€å§‹æ’­æ”¾ï¼Œç»“æŸå5åˆ†é’Ÿä¹‹å†…ä¹Ÿè¿˜ç®—æœ‰æ•ˆæ’­æ”¾çª—å£ã€‚
    - è¿™æ ·å¯ä»¥é˜²æ­¢å› ä¸ºè®¾å¤‡æ—¶é’Ÿå·®å¼‚å‡ºç°â€œç©ºç™½æ’­æ”¾â€çš„æƒ…å†µã€‚

---

## è¯·æ±‚ç¤ºä¾‹
```plain
http


å¤åˆ¶ç¼–è¾‘
GET /api/schedules?current=true&offsetBefore=5&offsetAfter=5
```

---

## å“åº”ç¤ºä¾‹
å¦‚æœæœ‰æ­£åœ¨æ’­æ”¾çš„å†…å®¹ï¼Œè¿”å›æ•°ç»„ï¼š

```plain
json


å¤åˆ¶ç¼–è¾‘
[
  {
    "id": "301",
    "name": "Morning Assembly",
    "mediaType": "video",
    "fileUrl": "https://example.com/videos/assembly.mp4",
    "startTime": "2025-04-28T08:00:00Z",
    "endTime": "2025-04-28T08:30:00Z",
    "status": "Scheduled"
  }
]
```

å¦‚æœæ²¡æœ‰ä»»ä½•æ’­æ”¾å†…å®¹ï¼Œè¿”å›ç©ºæ•°ç»„ï¼š

```plain
json


å¤åˆ¶ç¼–è¾‘
[]
```

